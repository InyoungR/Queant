Django Scheduler -> apscheduler 실습

* 간단한 실습 해보기
    1. 필요한 python파일을 작성한다.
        /articles/updater.py
        ```python
        from apscheduler.schedulers.background import BackgroundScheduler

        def update_something():
            print("schedule done!")

        def start():
            scheduler = BackgroundScheduler()
            scheduler.add_job(update_something, 'interval', seconds=10)
            scheduler.start()
        ```
    2. apps.py에 등록해준다.
        /articles/apps.py
        ```python
        from django.apps import AppConfig

        class ArticlesConfig(AppConfig):
            name = 'articles'
            from . import updater
            updater.start()
        ```
    
    3. settings.py에 등록해준다.
        /settings.py의 INSTALLED_APPS에 등록해주기

    문제점: 왜 두번씩 실행되는거지...?
    -> 검색해보니 django는 라이브 리로드 기능을 위해 서버 실행시 2개의 프로세스를 실행한다.  
    이때 스케줄러를 등록하는 등 한번만 실행해야 할때가 있는데 그럴때는 다음과 같이 서버를 키면 된다.  
    python manage.py runserver --noreload

* django에서 일정시간마다 DB 갱신해주기
    1. save_db.py 파일을 만들어서 db에 저장하는 코드를 작성한다.
    2. updater.py에 만든 모듈을 import하고 스케줄링 코드 작성.
    
    테스트 해보기
    * 데이터 지우기
        key값이 아닌 값을 조건으로 delete하면 오류가 발생
        ```sql
        set sql_safe_updates=0;
        ```
        위 코드로 환경설정을 해주고 지우면 가능.
        
    * 서버를 실행해주었을때 데이터가 api에서 가져와서 db로 저장되는 것을 확인할 수 있다.